% In this file you should put the actual content of the blueprint.
% It will be used both by the web and the print version.
% It should *not* include the \begin{document}
%
% If you want to split the blueprint content into several files then
% the current file can be a simple sequence of \input. Otherwise It
% can start with a \section or \chapter for instance.


% \section{Definitions}

% \begin{definition}[Sequence]
%   \label{def:sequence}
%   A sequence, denoted $a$ or $\{a_n\}$, is a function $a : ℕ → \mathbb{R}$.
% \end{definition}

% \begin{definition}[Convergence]
%   \label{def:convergence}
%   \lean{convergesTo, converges}
%   \leanok

%   A sequence $\{a_n\}$ converges to $L ∈ \mathbb{R}$ if for all $\varepsilon > 0$ there exists
%   $N ∈ ℕ$ such that for all $n ≥ N$, $|a_n - L| < \varepsilon$.
%   We say $\{a_n\}$ converges if there exists $L ∈ \mathbb{R}$ such that $\{a_n\}$ converges to $L$.

% \end{definition}

% \begin{definition}[Bounded Above]
%   \label{def:bounded_above}
%   \lean{upper_bound, bounded_above}
%   \leanok
%   A set $S \subseteq \mathbb{R}$ is bounded above if there exists an $M \in \mathbb{R}$ such that for all $s \in S$, $s \le M$.
%   We say that $M$ is an upper bound for $S$.
% \end{definition}

% \begin{definition}[supremum]
%   \label{def:supremum}
%   \uses{def:bounded_above}
%   \lean{sup}
%   \leanok
%   Let $S \subseteq \mathbb{R}$ be non-empty. We say that $y \in \mathbb{R}$ is the supremum of $S$ if \\ \\
%   (i) $y$ is an upper bound for $S$ \\
%   (ii) for any upper bound $z$ of $S$, $y \le z$
% \end{definition}

% \begin{definition}[continuous]
%   \label{def:continuous}
%   \lean{continuous}
%   \leanok
%   A function $f : \mathbb{R} → \mathbb{R}$ is continuous if for all $x \in \mathbb{R}$ and for all $\varepsilon > 0$, there exists a $\delta > 0$ such that for all $y ∈ \mathbb{R}$ with $|x - y| < \delta$, $|f(x) - f(y)| < \varepsilon$.
% \end{definition}


% \section{Theorems}


% \begin{theorem}[Limit Laws]
%   \label{thm:limit_laws}
%   \uses{def:convergence, def:sequence}
%   \lean{convergesTo_scalar_mul, convergesTo_add}
%   \leanok

%   Let $C \in \mathbb{R}$. Suppose $\{a_n\}$ converges to $L$ and $\{b_n\}$ converges to $K$. Then \\ \\
%   (i) $\{C a_n\}$ converges to $C L$ \\
%   (ii) $\{a_n + b_n\}$ converges to $L + K$ 

% \end{theorem}

% \begin{proof}
%   \leanok
%   Trivial.
% \end{proof}


% \begin{lemma}
% \label{lem:converges_nonneg}
%   \uses{def:convergence, thm:limit_laws}
%   \lean{convergesTo_nonneg}
%   \leanok

%   Suppose that there exists an $N \in ℕ$ such that for all $n \ge N$, $a_n ≥ 0$.
%   Then $\lim_{n \to \infty} a_n ≥ 0$.

% \end{lemma}

% \begin{theorem}[Order Limit Theorem]
%   \label{thm:order_limit}
%   \uses{lem:converges_nonneg}
%   \lean{le_convergesTo_of_le}
%   \leanok

%   Let $\{a_n\}$ and $\{b_n\}$ be sequences. 
%   Suppose that there exists an $N ∈ ℕ$ such that for all $n ≥ N$, $a_n ≤ b_n$.
%   Then $\lim_{n \to \infty} a_n \le \lim_{n \to \infty} b_n$.
% \end{theorem}

% \begin{theorem}[Completeness Axiom]
%   \label{thm:exists_sup_of_bounded_above}
%   \uses{def:supremum, def:bounded_above}
%   \lean{exists_sup_of_bounded_above}
%   \leanok
%   Let $S \subseteq \mathbb{R}$ be non-empty and bounded above.
%   Then there exists a $y \in \mathbb{R}$ such that $y$ is the supremum of $S$.

% \end{theorem}

% \begin{theorem}[Intermediate Value Theorem]
%   \label{thm:intermediate_value}
%   \uses{thm:exists_sup_of_bounded_above, def:continuous, thm:order_limit}
%   \lean{intermediate_value}
%   \leanok

%   Let $f : \mathbb{R} → \mathbb{R}$ be continuous and let $a < b ∈ \mathbb{R}$.
%   Suppose that $f(a) < f(b)$ and let $y \in [f(a), f(b)]$.
%   Then there exists a $c ∈ [a, b]$ such that $f(c) = y$.
% \end{theorem}

% \begin{proof}
%   \leanok
%   Sketch: \\
%   Let $K = \{x \in [a, b] | f(x) \le y\}$.
%   Then $K$ is non-empty and bounded above by $b$, so it has a supremum $c \in \mathbb{R}$.
%   If $f(c) < y$, then by continuity of $f$, there exists a $\delta > 0$ such that for all $x ∈ (c - \delta, c + \delta)$, $f(x) < y$.
%   Choose $x = c + \delta/2$.Then $x ∈ K$ and $x > c$, so $c$ is not an upper bound for $K$.
%   If $f(c) > y$, then by continuity of $f$, there exists a $\delta > 0$ such that for all $x ∈ (c - \delta, c + \delta)$, $f(x) > y$.
%   Choose $x = c - \delta/2$. Then $x$ is an upper bound for $K$ and $x < c$, so $c$ is not the supremum of $K$.
%   Thus, $f(c) = y$.

% \end{proof}

\section{Definitions}

\begin{definition} [Modular Form]
  \label{def:ModularForm}
  \lean{ModularForm}
  \leanok
  In lean, A modular form of weight $k \in \mathbb{N}$ is a function $f : \mathbb{C} → \mathbb{C}$ such that : \\ \\
  (1) $f$ is holomorphic on $\mathbb{H}$ \\
  (2) For all $z \in \mathbb{H}, f(z) = f(z + 1)$ \\
  (3) For all $z \in \mathbb{H}, f(z) = z^{-k} f(-1/z)$ \\
  (4) $f$ is bounded as Re$(z) \to \infty$ \\
\end{definition}

\begin{definition} [Integer Modular Form]
  \label{def:IntegerModularForm}
  \uses{def:ModularForm}
  \lean{IntegerModularForm}
  \leanok
  An integer modular form of weight $k \in \mathbb{N}$ is a sequence $a : \mathbb{N} → \mathbb{Z}$
  such that $\sum_{n=0}^{\infty} a(n) q^n$ is a modular form of weight $k$, where $q = e ^ {2 \pi i z}.$
\end{definition}

\begin{definition} [ModularFormMod $\ell$]
  \label{def:ModularFormMod}
  \uses{def:IntegerModularForm}
  \lean{ModularFormMod}
  \leanok
  A modular form mod $\ell$ of weight $k \in \mathbb{Z} / (\ell - 1) \mathbb{Z}$ is a sequence $a : \mathbb{N} → \mathbb{Z} / \ell \mathbb{Z}$
  such that there exists an integer modular form $b$ of weight $k'$ where
  $b \equiv a \mod \ell$ and $k' \equiv k \mod (\ell - 1)$.
\end{definition}


\begin{definition} [Theta]
  \label{def:Theta}
  \uses{def:ModularFormMod}
  \lean{Theta}
  \leanok
  $\Theta$ sends modular forms mod $\ell$ of weight $k$ to weight $k + 2$ by \\
  $(\Theta a) n = n a(n).$

\end{definition}

\begin{definition} [U Operator]
  \label{def:U_Operator}
  \uses{def:ModularFormMod}
  \lean{U_Operator}
  \leanok
  The operator $U$ sends modular forms mod $\ell$ of weight $k$ to weight $k$ by \\
  $ (a|U) n = a(\ell n).$
\end{definition}

\begin{definition} [hasWeight]
  \label{def:hasWeight}
  \uses{def:ModularFormMod}
  \lean{hasWeight}
  \leanok
  A modular form mod $\ell$ called $a$ has weight $j \in \mathbb{N}$ if
  there exists an integer modular form $b$ of weight $j$ such that $b \equiv a \mod \ell$.
\end{definition}

\begin{definition} [Filtration]
  \label{def:Filtration}
  \uses{def:ModularFormMod,hasWeight}
  \lean{Filtration}
  \leanok
  The filtration of a modular form mod $\ell$ called $a$ is defined as the minimum natural number $j$ such that a has weight $j$. 
  The filtration of the zero function is $0$.
\end{definition}

\begin{definition} [multiplication and exponentiation]
  \label{def:mul&pow}
  \uses{def:ModularFormMod}
  \lean{mul,pow}
  \leanok
  It's worth stated how multiplication and exponentiation are defined here, because they are not defined in the normal way.
  The multiplication of two modular forms mod $\ell$ called $a$ and $b$ is defined as 
  \[(a * b) n = \sum_{x + y = n} a(x) b(y).\] 
  The exponentiation of a modular form mod $\ell$ called $a$ to the power of $k \in \mathbb{N}$ is defined as 
  \[(a^j) n = \sum_ {x_1 + ... + x_j = n} \prod_{i = 1}^j a (x_i).\]
\end{definition}


\section{PowPrime}


\begin{definition} [permutational equivalence]
  \label{def:perm_equiv}
  \lean{perm_equiv}
  \leanok
  Two functions $a, b : $ Fin $n \to \mathbb{N}$, which can be thought of as tuples of n natural numbers,
  are permutationally equivalent if there exists a bijective function $\sigma : $ Fin $n \to $ Fin $n$ such that 
  $a = b \circ \sigma$. This is an equivalence relation. 
\end{definition}

\begin{lemma}
  \label{lem:non_diag_vanish}
  \uses{def:perm_equiv}
  \lean{non_diag_vanish}
  \leanok
  If $x = (x_1, x_2, ..., x_k)$ is not constant (i.e not all $x_i$ are equal) then for any $n \in \mathbb{N}$,
  \[ k \mid \# \{y = (y_1, y_2, ..., y_k) : \sum_{i = 1}^k y_i = n \text{   and $x$ and $y$ are permutationally equivalent} \} \]
\end{lemma}

\begin{lemma}
  \label{lem:Pi_eq_of_perm_equiv}
  \uses{def:perm_equiv}
  \lean{Pi_eq_of_perm_equiv}
  \leanok
  If $x$ and $y$ are permutationally equivalent then $\prod_{i = 1}^k a(x_i) = \prod_{i = 1}^k a(y_i)$.
\end{lemma}

\begin{lemma}
  \label{lem:non_const_of_tuple}
  \lean{non_const_of_tuple_non_diag, non_const_of_tuple_diag}
  \leanok
  Let $x = (x_1, x_2, ..., x_k)$ and $n \in \mathbb{N}$. Suppose that $\sum_{i = 1}^k x_i = n$. \\
  (1) If $k \nmid n$ then $x$ is not constant. \\
  (2) If $k \mid n$ and $x \neq (n/k, ..., n/k)$ then $x$ is not constant.
\end{lemma}

\begin{theorem} 
  \label{thm:Pow_Prime}
  \uses{def:ModularFormMod, def:mul&pow, lem:non_diag_vanish, lem:Pi_eq_of_perm_equiv, lem:non_const_of_tuple}
  \lean{Pow_Prime}
  \leanok
  Let $\ell$ be a prime and $a$ be a modular form mod $\ell$ of any weight. Then \\
  \[(a ^ \ell) n = \begin{cases} a (n / \ell) & \text{if $\ell \mid n$} \\
    0 & \text{otherwise} \end{cases} \]
\end{theorem}

